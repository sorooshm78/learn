## گیل چیست ؟
زبان هایی مثل سی پلاس پلاس مدیریت حافظه به خود برنامه نویس واگذار میکنند اما زبان های مدرن تر هرکدام با ترفندی مدیریت حافظه انجام میدهند مثلا زبان هایی مثل جاوا و دات نت از گاربج کالتور استفاده میکنند پایتون از روشی دیگر استفاده میکند به نام 
refrenc count 
زمانی که شما یک متغیر تعریف میکنید یه ادرس از حافظه به آن تعلق میگرد و زمانی که یک متغیر دیگر را با همان متغیر قبلی میسازید اینجا پایتون یک اشارگر به ان متغیر را در خود نگه میدارد

```
v1 = 10
v2 = v1

id(v1)
>>> 140041652273680

id(v2)
>>> 140041652273680

```

در اینجا در اصل پایتون حافظه دیگری اختصاص نمیدهد در اصل یک اشاره گر به متغییر را ذخیره میکند 
میتوانیم با استفاده از کد زیر تعداد رفرنس ها به یک متغیر را بدست اوریم

‍‍‍‍```
>>> a = 10000000000000000
>>> b = a
>>> sys.getrefcount(a)
3
```
حالا پایتون زمانی که تعداد رفرنس های یک متغیر صفر شد متوجه میشود که دیگر هیچ جای برنامه از آن استفاده نمیکند بنابر اون متغییر رو ازاد میکند


مشکل زمانی رخ میدهد که بخواهیم از دو ترد استفاده کنیم و بخواهیم به طور موازی مقدار رفرنس را تغییر دهیم در این حالت ممکن است برای تعداد رفرنس مشکل ایجاد شود و هردو باهم این عدد را زیاد کنند و در اینجا ممکن است اتفاق بدی رخ دهد و زمانی که یک جای برنامه به یک متغبر نیاز دارد پایتون فکر کند باید ان را ازاد کند در صورتی که هنوز یکجای برنامه به آن نیاز دارد

گیل 

گیل یک قفل گلوبال است که فقط و فقط اجازه میدهد یک برنامه از پایتون اجرا شود یعنی فرض کنید دو ترد داریم که هردو باید اجرا شوند هر کدام از آن ها برای اجرا شدن باید قفل اجرایی را بکیرند تا بتوانند اجرا شوند و در صورت درگیر بودن گیل باید صبر کند تا گیل ازاد شود و بعد از ان گیل را بدست بگیرد تا بتواند اجرا شود

گیل باعث ترد سیف میشود و در عمل اجازه نمی دهد دسترسی غیر مجاز به حافظه توسط دو ترد را نمیدهد

زمانی که یک ترد گیل رابدست میگرد باید هرچند مدت یکبار ان را ازاد کند تا بقیه هم بتوانند از گیل استفاده کنند

```
>>> import sys
>>> sys.getswitchinterval()
0.005
```

